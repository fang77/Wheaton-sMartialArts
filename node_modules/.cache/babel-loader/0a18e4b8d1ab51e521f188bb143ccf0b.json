{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _utils = require('../utils');\n\nvar getDataFromHtml = function getDataFromHtml(html, containers) {\n  var content = html.replace('<body', '<div id=\"swupBody\"').replace('</body>', '</div>');\n  var fakeDom = document.createElement('div');\n  fakeDom.innerHTML = content;\n  var blocks = [];\n\n  var _loop = function _loop(i) {\n    if (fakeDom.querySelector(containers[i]) == null) {\n      // page in invalid\n      return {\n        v: null\n      };\n    } else {\n      (0, _utils.queryAll)(containers[i]).forEach(function (item, index) {\n        (0, _utils.queryAll)(containers[i], fakeDom)[index].setAttribute('data-swup', blocks.length); // marks element with data-swup\n\n        blocks.push((0, _utils.queryAll)(containers[i], fakeDom)[index].outerHTML);\n      });\n    }\n  };\n\n  for (var i = 0; i < containers.length; i++) {\n    var _ret = _loop(i);\n\n    if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n  }\n\n  var json = {\n    title: fakeDom.querySelector('title').innerText,\n    pageClass: fakeDom.querySelector('#swupBody').className,\n    originalContent: html,\n    blocks: blocks\n  }; // to prevent memory leaks\n\n  fakeDom.innerHTML = '';\n  fakeDom = null;\n  return json;\n};\n\nexports.default = getDataFromHtml;","map":null,"metadata":{},"sourceType":"script"}